(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=n(6),l=n(1),h=n.n(l),f=a.a.createContext(),d="MAKE_MOVE",v="RESET_GAME";var m=a.a.memo(function(e){var t=e.value,n=e.x,o=e.y,i=Object(r.useContext)(f),c=["ttt-space"],s=Object(r.useCallback)(function(){return i(function(e,t){return{type:d,x:e,y:t}}(n,o))},[n,o]),u=String.fromCharCode(160);return 1===t?u="X":2===t?u="O":c.push("ttt-space-open"),a.a.createElement("div",{className:c.join(" "),onClick:s},a.a.createElement("div",{className:"ttt-symbol"},u))},function(e,t){return e.value===t.value});m.displayName="TicTacToeSpace";var p=m,w=a.a.memo(function(e){var t=e.rows,n=e.x;return a.a.createElement("div",{className:"ttt-column"},t.map(function(e,t){return a.a.createElement(p,{key:"".concat(n,"_").concat(t),value:e,x:n,y:t})}))},function(e,t){return e.rows.every(function(e,n){return t.rows[n]===e})&&e.x===t.x});w.displayName="TicTacToeColumn",w.propTypes={rows:h.a.array.isRequired,x:h.a.number.isRequired};var b=w;function g(e,t){return t+e.reduce(function(e,t){return e+t},"")}var y=function(e){var t=e.columns;return a.a.createElement("div",{className:"ttt-board"},t.map(function(e,t){return a.a.createElement(b,{key:g(e,t),rows:e,x:t})}))},x=n(7),E=n(4),k=n(5),O=[[0,0],[2,0],[0,2],[2,2]],C=9;function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.winner?t+(1===e.winner?C:-C):0}function N(e){return 8===e.openSpaces.length?function(e){return 0===e.state.board[1][1]?[1,1]:O[Math.floor(4*Math.random())]}(e):function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n>=C)throw new Error("Minimax reached impossible depth");var r=t.state;if(0!==r.winner)return{score:M(r,n)};var a,o,i=t.openSpaces,c=[],s=[];return n+=1,i.forEach(function(r){var a=e(t.cloneWithMove.apply(t,r),n);c.push(r),s.push(a.score)}),1===r.nextPlayer?a=s.indexOf(Math.max.apply(Math,s)):o=s.indexOf(Math.min.apply(Math,s)),{move:c[void 0!==a?a:o],score:s[void 0!==a?a:o]}}(e).move}var P=[[[0,0],[0,1],[0,2]],[[0,0],[1,0],[2,0]],[[2,0],[2,1],[2,2]],[[0,2],[1,2],[2,2]],[[1,0],[1,1],[1,2]],[[0,1],[1,1],[2,1]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]];function j(e,t,n){var r=[this[e[0]][e[1]],this[t[0]][t[1]],this[n[0]][n[1]]],a=r[0];return a&&r.every(function(e){return e===a})?a:0}function T(e){var t=e.state.board,n=e.openSpaces;if(n.length>4)return 0;var r=P.length,a=0;do{a=j.apply(t,P[r-1]),r--}while(!a&&r>0);return a||0!==n.length?a:-1}var S=new(function(){function e(t){Object(E.a)(this,e),this.reset(t)}return Object(k.a)(e,[{key:"reset",value:function(e){return this._state=Object(x.a)({board:[[0,0,0],[0,0,0],[0,0,0]],nextPlayer:1,winner:0},e),e&&(this._state.winner=T(this)),this.state}},{key:"move",value:function(e,t){var n=this.state;if(void 0===e||void 0===t||0!==n.winner||n.board[e][t])return n;if(n.board[e][t]=n.nextPlayer,n.winner=T(this),0===n.winner){if(1===n.nextPlayer)return n.nextPlayer=2,this.move.apply(this,N(this));n.nextPlayer=1}return this.state}},{key:"cloneWithMove",value:function(t,n){var r=this.state,a=r.board,o=r.nextPlayer;if(a[t][n])return this;var i=a.map(function(e){return e.slice()});return i[t][n]=o,new e({board:i,nextPlayer:1===o?2:1})}},{key:"openSpaces",get:function(){for(var e=this.state.board,t=[],n=0;n<3;n++)for(var r=0;r<3;r++)e[n][r]||t.push([n,r]);return t}},{key:"state",get:function(){return this._state}}]),e}()),W={board:[[0,0,0],[0,0,0],[0,0,0]],winner:0};function R(e){return{board:e.board,winner:e.winner}}function A(e,t){var n=t.type,r=t.x,a=t.y;switch(n){case d:return 0!==e.winner||e.board[r][a]?e:R(S.move(r,a));case v:return R(S.reset());default:return e}}var _=function(){var e=Object(r.useReducer)(A,W),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(r.useCallback)(function(){return o({type:v})}),c="Game on! :)";return n.winner>0?c="Player "+n.winner+" has won the game!":-1===n.winner&&(c="The game has been drawn!"),a.a.createElement(a.a.Fragment,null,a.a.createElement(f.Provider,{value:o},a.a.createElement(y,{columns:n.board})),a.a.createElement("div",{className:"ttt-message"},c),a.a.createElement("div",{className:"ttt-controls"},a.a.createElement("button",{className:"btn btn-primary",onClick:i},"Reset Game")),a.a.createElement("div",{className:"ttt-github"},a.a.createElement("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&repo=react-tictactoe&type=star",title:"github-star",width:"51px"}),a.a.createElement("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&type=follow",title:"github-follow",width:"123px"})))};i.a.render(a.a.createElement(_,null),document.getElementById("tictactoe")),function(e){if("serviceWorker"in navigator){if(new URL("/react-tictactoe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-tictactoe","/service-worker.js");c?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):s(t,e)})}}()},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.0e49c59a.chunk.js.map