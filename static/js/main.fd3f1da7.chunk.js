(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),i=n.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=n(6),l=n(3),h=n.n(l),v=r.a.createContext(),f="MAKE_MOVE",d="RESET_GAME";var m=r.a.memo(function(e){var t=e.value,n=e.x,o=e.y,i=Object(a.useContext)(v),c=["ttt-space"],s=Object(a.useCallback)(function(){return i(function(e,t){return{type:f,x:e,y:t}}(n,o))},[n,o]),u=String.fromCharCode(160);return 1===t?u="X":2===t?u="O":c.push("ttt-space-open"),r.a.createElement("div",{className:c.join(" "),onClick:s},r.a.createElement("div",{className:"ttt-symbol"},u))},function(e,t){return e.value===t.value});m.displayName="TicTacToeSpace";var p=m,b=r.a.memo(function(e){var t=e.rows,n=e.x;return r.a.createElement("div",{className:"ttt-column"},t.map(function(e,t){return r.a.createElement(p,{key:"".concat(n,"_").concat(t),value:e,x:n,y:t})}))},function(e,t){return e.rows.every(function(e,n){return t.rows[n]===e})&&e.x===t.x});b.displayName="TicTacToeColumn",b.propTypes={rows:h.a.array.isRequired,x:h.a.number.isRequired};var y=b;function w(e,t){return t+e.reduce(function(e,t){return e+t},"")}var g=function(e){var t=e.columns;return r.a.createElement("div",{className:"ttt-board"},t.map(function(e,t){return r.a.createElement(y,{key:w(e,t),rows:e,x:t})}))},x=n(7),k=n(1),E=n(2),W=[[0,0],[2,0],[0,2],[2,2]],M=function(){function e(){Object(k.a)(this,e)}return Object(E.a)(e,null,[{key:"possibleMoves",value:function(e){for(var t=[],n=0;n<3;n++)for(var a=0;a<3;a++)e[n][a]||t.push([n,a]);return t}},{key:"score",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.hasWon?t+(1===e.hasWon?9:-9):0}},{key:"minimax",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n>=9)throw new Error("Runaway minimax algorithm has reached impossible depth");var a=t.state;if(0!==a.hasWon)return{score:e.score(a,n)};var r,o,i=e.possibleMoves(a.board),c=[],s=[];return n+=1,i.forEach(function(a){var r=t.cloneWithMove.apply(t,a),o=e.minimax(r,n);c.push(a),s.push(o.score)}),1===a.nextPlayer?r=s.indexOf(Math.max.apply(Math,s)):o=s.indexOf(Math.min.apply(Math,s)),{move:c[void 0!==r?r:o],score:s[void 0!==r?r:o]}}},{key:"openingMove",value:function(e){return 0===e.state.board[1][1]?[1,1]:W[Math.floor(4*Math.random())]}},{key:"idealMove",value:function(t){return 8===t.state.openSpaces?e.openingMove(t):e.minimax(t).move}}]),e}(),O=[[[0,0],[0,1],[0,2]],[[0,0],[1,0],[2,0]],[[2,0],[2,1],[2,2]],[[0,2],[1,2],[2,2]],[[1,0],[1,1],[1,2]],[[0,1],[1,1],[2,1]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]],j=new(function(){function e(t){Object(k.a)(this,e),this.reset(t)}return Object(E.a)(e,[{key:"reset",value:function(e){return this._state=Object(x.a)({board:[[0,0,0],[0,0,0],[0,0,0]],hasWon:0,nextPlayer:1,openSpaces:9},e),e&&(this._state.hasWon=this.hasWon()),this.state}},{key:"move",value:function(e,t){var n=this.state;if(void 0===e||void 0===t||0!==n.hasWon||n.board[e][t])return n;if(n.board[e][t]=n.nextPlayer,n.openSpaces-=1,n.hasWon=this.hasWon(),n.openSpaces){if(1===n.nextPlayer)return n.nextPlayer=2,this.move.apply(this,M.idealMove(this));n.nextPlayer=1}return this.state}},{key:"cloneWithMove",value:function(t,n){var a=this.state,r=a.board,o=a.nextPlayer,i=a.openSpaces;if(r[t][n])return this;var c=r.map(function(e){return e.slice()});return c[t][n]=o,new e({board:c,nextPlayer:1===o?2:1,openSpaces:i-1})}},{key:"hasWon",value:function(){var e=this.state,t=e.board,n=e.openSpaces;if(n>4)return 0;var a=O.length,r=0;function o(e,n,a){var r=[t[e[0]][e[1]],t[n[0]][n[1]],t[a[0]][a[1]]],o=r[0];return o&&r.every(function(e){return e===o})?o:0}do{r=o.apply(this,O[a-1]),a--}while(!r&&a>0);return r||0!==n?r:-1}},{key:"state",get:function(){return this._state}}]),e}()),S={board:[[0,0,0],[0,0,0],[0,0,0]],hasWon:0};function C(e){return{board:e.board,hasWon:e.hasWon}}function N(e,t){var n=t.type,a=t.x,r=t.y;switch(n){case f:return 0!==e.hasWon||e.board[a][r]?e:C(j.move(a,r));case d:return C(j.reset());default:return e}}var P=function(){var e=Object(a.useReducer)(N,S),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useCallback)(function(){return o({type:d})}),c="Game on! :)";return n.hasWon>0?c="Player "+n.hasWon+" has won the game!":-1===n.hasWon&&(c="The game has been drawn!"),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.Provider,{value:o},r.a.createElement(g,{columns:n.board})),r.a.createElement("div",{className:"ttt-message"},c),r.a.createElement("div",{className:"ttt-controls"},r.a.createElement("button",{className:"btn btn-primary",onClick:i},"Reset Game")),r.a.createElement("div",{className:"ttt-github"},r.a.createElement("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&repo=react-tictactoe&type=star",title:"github-star",width:"51px"}),r.a.createElement("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&type=follow",title:"github-follow",width:"123px"})))};i.a.render(r.a.createElement(P,null),document.getElementById("tictactoe")),function(e){if("serviceWorker"in navigator){if(new URL("/react-tictactoe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-tictactoe","/service-worker.js");c?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):s(t,e)})}}()},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.fd3f1da7.chunk.js.map